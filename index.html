<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les cinémas d'Ile-de-france</title>
    <link rel="icon" type="icon" href="favicon.ico" />
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
  </head>  
<body>
    <nav>
        <div class="logo"><a href="#hero"><i class='bxr  bxs-popcorn'></i>Les cinémas d'Ile-de-france</a></div>
        <button class="burger-menu" id="burgerBtn" aria-label="Menu de navigation">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <ul id="navMenu">
            <li><a href="#hero">Accueil</a></li>
            <li><a href="#carte">Un cinéma dans ma ville</a></li>
            <li><a href="#stats">Les tops des cinémas</a></li>
            <li><a href="#about">À propos</a></li>
        </ul>
    </nav>
    
    <section class="hero" id="hero">
        <div>
            <h1>Mon cinéma en Île de France</h1>
            <p>Le site crée pour chercher le prochain coup de coeur cinématographique</p>
        </div>
    </section>
    
    <div class="search-container">
        <div class="selector-container"><h2>Y-a-t-il un cinéma dans ma ville ?</h2></div>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Rechercher une ville (ex: Versailles, Montreuil, Cergy...)">
            <button onclick="searchCity()">Rechercher</button>
        </div>
        <div id="searchResult" class="search-result"></div>
    </div>
    
    <div id="carte"></div>
    
    <section class="stats-section" id="stats">
        <!-- Section avec sélecteur et graphique -->
        <div class="selector-container">
            <h2>Quel est le cinéma d'Île-de-France le plus ...</h2>
            <select id="topCinemaSelect">
                <option value="fauteuils">Grand (nombre de sièges)</option>
                <option value="seances">Actif (nombre de séances)</option>
                <option value="ecrans">Équipé (nombre d'écrans)</option>
                <option value="entrees">Fréquenté (nombre d'entrées)</option>
            </select>
        </div>
        
        <div class="results-grid">
            <!-- Carte des résultats -->
            <div class="result-card">
                <div class="cinema-info">
                    <h3 id="topCinemaName">UGC CINÉ CITÉ LES HALLES</h3>
                    <div class="stat-value" id="topCinemaValue">3 894</div>
                    <div class="stat-label" id="topCinemaLabel">fauteuils</div>
                    <div class="stat-detail" id="topCinemaCity">Situé à Paris 1er Arrondissement</div>
                </div>
            </div>
            
            <!-- Carte du graphique -->
            <div class="result-card">
                <h4>Top 5 des cinémas</h4>
                <div class="chart-container">
                    <canvas id="topChart"></canvas>
                </div>
            </div>
        </div>
    </section>
<section class="about-section" id="about">
    <div class="about-content">
        <h2>À propos du projet</h2>
        <p class="about-description">
            Ce projet a été réalisé par trois étudiants en deuxième année de BUT MMI 
            dans le cadre de la SAE 3.03. Notre objectif était de transformer des statistiques brutes en une 
            expérience visuelle et accessible.<br>
            À travers cette application de data visualisation,
            vous pourrez chercher une ville et trouver la liste de cinéma qui s'y trouvent; 
            visualiser une carte des cinémas d'Île-de-France. 
            Vous trouverez également le fameux format " Qui est le plus ..." appliqué au cinémas franciliens.        
        </p>
        
        <div class="about-grid">
            <div class="about-card" >
                <a href="https://www.linkedin.com/in/hakan-gunduz9514027/" target="_blank" class="linkedin-link">
                    <h3>Hakan Gunduz</h3>
                    <i class='bx bxl-linkedin'></i></a>
            </div>
            
            <div class="about-card">
                <a href="https://www.linkedin.com/in/yosra-mesbahi/" target="_blank" class="linkedin-link">
                    <h3>Yosra Mesbahi</h3>
                    <i class='bx bxl-linkedin'></i></a>
            </div>
            
            <div class="about-card">
                <a href="https://www.linkedin.com/in/ga%C3%ABlle-poisson/" target="_blank" class="linkedin-link">
                    <h3>Gaëlle Poisson</h3>
                    <i class='bx bxl-linkedin'></i></a>
            </div>
        </div>
    </div>
</section> 
    <footer>
        <p>Projet SAE 303 - MMI Cergy Pontoise - <a href="https://data.iledefrance.fr/explore/dataset/les_salles_de_cinemas_en_ile-de-france/table/" class="linkedin-link"> Données CNC </a> </p>
        <div class="footer-logos">
            <img src="images/IUT.png" alt="logo IUT ">
            <img src="images/CYU.png" alt="logo CYU">
            <img src="images/MMI.png" alt="logo MMI">
        </div>
    </footer>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/Leaflet.markercluster.js"></script>
    <script src="fetch.js"></script>
    <script>
        // Menu burger
        const burgerBtn = document.getElementById('burgerBtn');
        const navMenu = document.getElementById('navMenu');
        const navLinks = document.querySelectorAll('nav ul a');
        
        burgerBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            burgerBtn.classList.toggle('active');
        });
        
        // Fermer le menu quand on clique sur un lien
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
                burgerBtn.classList.remove('active');
            });
        });
        
        // Fermer le menu si on clique en dehors
        document.addEventListener('click', (e) => {
            if (!navMenu.contains(e.target) && !burgerBtn.contains(e.target)) {
                navMenu.classList.remove('active');
                burgerBtn.classList.remove('active');
            }
        });
    </script>
</body>
</html>
